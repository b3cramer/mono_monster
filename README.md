# Getting Started with Bazel in a Monorepo

This repository is generated by the Aspect CLI which adds a convenient layer over Bazel and Gazelle to automate the generation of build files.

## Pre-requisites

1. Install the Aspect CLI: [Installation Guide](https://docs.aspect.build/cli/#installation)  
2. Install Go: [Golang Installation Docs](https://go.dev/dl/)
3. Install and Setup `direnv` [Docs](https://direnv.net/docs/installation.html). This repo uses Bazel 8 which uses Bazel modules instead of the older WORKSPACE definitions. This repo is configured to set an environment variable to tell Bazel where the root of the repo is. It is advisable to set this variable at the time you enter the directory rather than setting it statically in a shell rc file. The value is loaded from `.envrc` when you change directory into the root of the repository. The first time you move into the directory you'll have to run `direnv allow` to enable the variables to load.

## Intro Bazel Commands

`bazel build //...` will build the entire repo tree  
`bazel build //path/to/target:rule` will build the targeted resource  
`bazel run //path/to/target:binary_rule` will build and execute the targeted binary

### Example

Running `bazel run //examples:hello_world` will execute the bazel build on the target binary rule and then execute the script which, when run successfully, will produce the output:

```
Hello, World!
You just ran a shell script via Bazel run!
```
